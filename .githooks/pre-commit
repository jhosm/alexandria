#!/usr/bin/env bash
set -euo pipefail

echo "==> Running format check..."
STAGED=$(git diff --cached --name-only --diff-filter=ACM)
if [ -n "$STAGED" ]; then
  echo "$STAGED" | xargs npx prettier --check --ignore-unknown
fi

echo "==> Running lint..."
npm run lint

echo "==> Running type check..."
npx tsc --noEmit

echo "==> Running tests..."
npm test
